#!/usr/bin/env bash

load_libraries() {
	library_directory_path='./lib/qss/'
	source "$library_directory_path"'action-manager.sh'
	source "$library_directory_path"'defaults-manager.sh'
	source "$library_directory_path"'folder-and-file-creator.sh'
	source "$library_directory_path"'loader.sh'
	source "$library_directory_path"'option-processor.sh'
	source "$library_directory_path"'router.sh'
}

initialize_script() {
	load_libraries
	load_configuration
	load_profile
	initialize_actions
}

initialize_script

while getopts "ceu:i:k:p:f" option; do
	process_option "$option"
	initialize_actions
done

ssh $username@$ip_address -i $(get_key_file_path)