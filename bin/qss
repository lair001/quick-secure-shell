#!/usr/bin/env bash

load_libraries() {
	library_directory_path='./lib/qss/'
	source "$library_directory_path"'action-manager.sh'
	source "$library_directory_path"'defaults-manager.sh'
	source "$library_directory_path"'folder-and-file-creator.sh'
	source "$library_directory_path"'loader.sh'
	source "$library_directory_path"'option-processor.sh'
	source "$library_directory_path"'router.sh'
}

throw_error_for_attempting_to_both_create_and_change_default_a_resource() {
	echo $error_message_for_attempting_to_both_create_and_change_default_a_resource
	exit 2
}

initialize_script() {
	load_libraries
	load_configuration
	load_profile
	error_message_for_attempting_to_both_create_and_change_default_a_resource="Cannot both create and change_default a resource."
	initialize_actions
}

initialize_script

while getopts "ceu:i:k:p:f" option; do
	process_option "$option"
	initialize_actions
done

ssh $username@$ip_address -i $(get_key_file_path)